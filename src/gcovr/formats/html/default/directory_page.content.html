{# -*- engine: jinja -*- #}
<div class="Box m-3 filelist">
  <div class="Box-header py-2 d-flex sticky">
    {% set class_sortable = " sortable" if not info.static_report and entries | length > 1 else "" %}
    <div role="rowheader" class="color-fg-muted flex-auto min-width-0 col-md-2{{class_sortable}}{% if info.sort_by == 'filename' and class_sortable %} {{info.sorted}}{% endif %}">File</div>
    <div role="rowheader" class="color-fg-muted d-flex flex-justify-end flex-auto min-width-0 flex-items-baseline"></div>
    <div role="rowheader" class="color-fg-muted d-flex flex-justify-end col-2{{class_sortable}}{% if info.sort_by == 'lines' and class_sortable %} {{info.sorted}}{% endif %}">Lines</div>
    <div role="rowheader" class="color-fg-muted d-flex flex-justify-end col-2{{class_sortable}}">Functions</div>
    <div role="rowheader" class="color-fg-muted d-flex flex-justify-end col-2{{class_sortable}}{% if info.sort_by == 'branches' and class_sortable %} {{info.sorted}}{% endif %}">Branches</div>
    {% if SHOW_CONDITION_COVERAGE %}
    <div role="rowheader" class="color-fg-muted d-flex flex-justify-end col-2{{class_sortable}}">Conditions</div>
    {% endif %}
    {% if SHOW_DECISION %}
    <div role="rowheader" class="color-fg-muted d-flex flex-justify-end col-2{{class_sortable}}">Decisions</div>
    {% endif %}
    {% if SHOW_CALLS %}
    <div role="rowheader" class="color-fg-muted d-flex flex-justify-end col-2{{class_sortable}}">Calls</div>
    {% endif %}
    {% if info.diff_report %}
    <div role="rowheader" class="color-fg-muted d-flex flex-justify-end col-1{{class_sortable}}">Diff</div>
    {% endif %}
  </div>
  {% for row in entries %}
  <div class="Box-row Box-row--focus-gray py-2 d-flex">
    <div role="gridcell" class="color-fg-muted flex-auto min-width-0 col-md-2 v-center">
      <span class="css-truncate css-truncate-target d-block width-fit">
        {% if row.link is not none %}
        <a class="" title="{{row.filename}}" href="{% if info.single_page %}#{% endif %}{{row.link}}">{{row.filename}}</a>
        {% else %}
        {{row.filename}}
        {% endif %}
      </span>
    </div>
    <div role="gridcell" class="color-fg-muted d-flex v-center">
      {% if row.lines.coverage != "-" %}
      <span class="meter Progress Progress--large d-inline-flex " style="width: 200px;">
        <span class="Progress-item {{row.lines.class}}" style="width: {{row.lines.coverage}}%" title="{{row.lines.coverage}}%"></span>
      </span>
      {% endif %}
    </div>
    <div role="gridcell" class="color-fg-muted d-flex col-2" data-sort="{{row.lines.sort}}">
      <div class="d-flex flex-justify-between flex-wrap gcovr-m-l-5 {{row.lines.class}}" style="width: 100%;">
        <div class="percent">{{row.lines.coverage}}%</div>
        <div class="counter" title="Exec / Excl / Total">{{row.lines.exec}} / {{row.lines.excluded}} / {{row.lines.total}}</div>
      </div>
    </div>
    <div role="gridcell" class="color-fg-muted d-flex col-2" data-sort="{{row.functions.sort}}">
      <div class="d-flex flex-justify-between flex-wrap gcovr-m-l-5 {{row.functions.class}}" style="width: 100%;">
        <div class="percent">{{row.functions.coverage}}%</div>
        <div class="counter" title="Exec / Excl / Total">{{row.functions.exec}} / {{row.functions.excluded}} / {{row.functions.total}}</div>
      </div>
    </div>
    <div role="gridcell" class="color-fg-muted d-flex col-2" data-sort="{{row.branches.sort}}">
      <div class="d-flex flex-justify-between flex-wrap gcovr-m-l-5 {{row.branches.class}}" style="width: 100%;">
        <div class="percent">{{row.branches.coverage}}%</div>
        <div class="counter" title="Exec / Excl / Total">{{row.branches.exec}} / {{row.branches.excluded}} / {{row.branches.total}}</div>
      </div>
    </div>
    {% if SHOW_CONDITION_COVERAGE %}
    <div role="gridcell" class="color-fg-muted d-flex col-2" data-sort="{{row.conditions.sort}}">
      <div class="d-flex flex-justify-between flex-wrap gcovr-m-l-5 {{row.conditions.class}}" style="width: 100%;">
        <div class="percent">{{row.conditions.coverage}}%</div>
        <div class="counter" title="Exec / Excl / Total">{{row.conditions.exec}} / {{row.conditions.excluded}} / {{row.conditions.total}}</div>
      </div>
    </div>
    {% endif %}
    {% if SHOW_DECISION %}
    <div role="gridcell" class="color-fg-muted d-flex col-2" data-sort="{{row.decisions.sort}}">
      <div class="d-flex flex-justify-between flex-wrap gcovr-m-l-5 {{row.decisions.class}}" style="width: 100%;">
        <div class="percent">{{row.decisions.coverage}}%</div>
        <div class="counter" title="Exec / Excl / Total">{{row.decisions.exec}} / {{row.decisions.excluded}} / {{row.decisions.total}}</div>
      </div>
    </div>
    {% endif %}
    {% if SHOW_CALLS %}
    <div role="gridcell" class="color-fg-muted d-flex col-2" data-sort="{{row.calls.sort}}">
      <div class="d-flex flex-justify-between flex-wrap gcovr-m-l-5 {{row.calls.class}}" style="width: 100%;">
        <div class="percent">{{row.calls.coverage}}%</div>
        <div class="counter" title="Exec / Excl / Total">{{row.calls.exec}} / {{row.calls.excluded}} / {{row.calls.total}}</div>
      </div>
    </div>
    {% endif %}
    {% if info.diff_report %}
    <div role="gridcell" class="color-fg-muted d-flex col-1" data-sort="{{row.diff}}">
      <span class="diff">
        {{row.diff.replace('_', ' ').capitalize()}}
      </span>
    </div>
    {% endif %}
  </div>
{% endfor %}
</div>

